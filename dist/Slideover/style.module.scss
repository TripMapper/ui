@import "../variables";

.slideover {
	position: absolute;
	top: rem(16);
	right: rem(16);
	bottom: rem(16);

	display: flex;
	flex-direction: column;
	width: calc(100% - #{rem(16 * 2)});
	max-width: rem(480);

	background: #fff;
	box-shadow: 0 rem(2) rem(16) 0 rgba(0,0,0,0.10);
	border-radius: rem(16);

	transform: translateX(calc(100% + #{rem(16)}));
	transition: transform 0.3s ease;
	overflow: hidden;

	&.wide {
		max-width: rem(680);
	}

	&.afterOpen {
		transform: translateX(var(--offset, 0px));
	}

	&.beforeClose {
		transform: translateX(calc(100% + #{rem(16)}));
	}

	&::after {
		content: '';
		position: fixed;
		z-index: 3;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;

		background-color: change-color($COLOURS_text, $alpha: 0.2);
		transition: opacity 0.3s ease;
		pointer-events: none;
		opacity: 0;
	}

	&.afterOpen:not(.beforeClose):not(.top) {
		transform: translateX(var(--offset, 0px)) scale(calc(1 - var(--f-offset, 0)));

		&::after {
			opacity: 1;
			pointer-events: all;
		}
	}
}

.overlay {
	position: fixed;
	z-index: $zINDEX_slideover;
	top: 0;
	left: 0;
	width: 100vw;
	height: 100vh;
	background-color: transparent;
}

.header {
	position: relative;
	z-index: 2;
	padding: rem(40) 0;
	border-bottom: 1px solid $COLOURS_borderLight;

	&.hasTabs {
		padding: rem(40) 0 0 0;
		border-bottom: none;
	}

	h1 {
		padding: 0 rem(32);
		opacity: 0.2;
		font-size: rem(24);
		font-weight: bold;
	}
}

.controls {
	position: absolute;
	z-index: 3;
	top: rem(8);
	right: rem(8);

	svg {
		vertical-align: middle;
	}

	button {
		margin-left: rem(8);

		appearance: none;
		background: none;
		border: none;
		border-radius: 0;
		cursor: pointer;
		transition: opacity 0.15s ease;

		&:hover {
			opacity: 0.75;
		}
	}
}

.content {
	position: relative;
	padding: rem(32);
	overflow: auto;

	&.hasTabs {
		padding: 0;
		height: 100%;
		overflow: hidden;
	}
}

.tab {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	padding: rem(32);

	overflow: auto;
}

.tabs {
	margin-top: rem(10);

	&::before,
	&::after {
		content: '';
		display: inline-block;
		width: rem(32);
		height: 100%;
	}
}
